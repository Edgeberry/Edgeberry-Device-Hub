# Edgeberry Device Hub - Core Service Environment Variables
# 
# Copy this file to /etc/Edgeberry/devicehub/core.env
# and customize for your production deployment
#
# Usage:
#   sudo mkdir -p /etc/Edgeberry/devicehub
#   sudo cp core.env.example /etc/Edgeberry/devicehub/core.env
#   sudo nano /etc/Edgeberry/devicehub/core.env
#   sudo systemctl restart devicehub-core.service

# Environment mode (production or development)
NODE_ENV=production

# Server port (use 3000 for production behind reverse proxy)
PORT=3000

# JWT configuration for session authentication
# Generate a secure secret with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_RANDOM_SECRET
JWT_TTL_SECONDS=86400

# Session cookie name
SESSION_COOKIE=dh_session

# Admin credentials (change these immediately after first login!)
ADMIN_USER=admin
ADMIN_PASSWORD=admin

# UI distribution path (built React app)
UI_DIST=/opt/Edgeberry/devicehub/ui/build

# Database path
DEVICEHUB_DB=/var/lib/edgeberry/devicehub/devicehub.db
REGISTRY_DB=/var/lib/edgeberry/devicehub/devicehub.db
PROVISIONING_DB=/var/lib/edgeberry/devicehub/devicehub.db

# Certificate paths
CERTS_DIR=/var/lib/edgeberry/devicehub/certs
ROOT_DIR=/var/lib/edgeberry/devicehub/certs/root
PROV_DIR=/var/lib/edgeberry/devicehub/certs/provisioning
CA_KEY=/var/lib/edgeberry/devicehub/certs/ca.key
CA_CRT=/var/lib/edgeberry/devicehub/certs/ca.crt

# Provisioning certificates
PROVISIONING_CERT_PATH=/var/lib/edgeberry/devicehub/certs/provisioning.crt
PROVISIONING_KEY_PATH=/var/lib/edgeberry/devicehub/certs/provisioning.key
PROVISIONING_HTTP_ENABLE_CERT_API=true

# Device online threshold (seconds)
ONLINE_THRESHOLD_SECONDS=90

# Default log units for journalctl queries
DEFAULT_LOG_UNITS=20

# MQTT Configuration
MQTT_URL=mqtt://127.0.0.1:1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_TLS_CA=
MQTT_TLS_CERT=
MQTT_TLS_KEY=
MQTT_TLS_REJECT_UNAUTHORIZED=false
